{"version":3,"file":"trainingsessions.min.js","sources":["../src/trainingsessions.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Contain the logic for a drawer.\n *\n * @package    report_trainingsessions\n * @copyright  2019 Valery Fremaux <valery.fremaux@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/log'], function($, log) {\n\n    var trainingsessions = {\n\n        layoutconstraints: [],\n\n        init: function(params) {\n            // Add constraint handlers to layout and outputformat\n            $('#id_reportlayout').bind('change', this.filter_formats);\n            $('#id_reportlayout').trigger('change');\n\n            this.layoutconstraints = params['layoutconstraints'];\n\n            log.debug(\"AMD TrainingSessions initialized\");\n        },\n\n        filter_formats: function() {\n            var that = $(this);\n\n            var formatselect = $('#id_reportformat');\n            var validopts = this.layoutconstraints[that.val];\n            formatselect.children('option').prop('disabled', true);\n            for (var opt in validopts) {\n                // invalidate all options ut those who are valid.\n                formatselect.children('[value=\"' + opt + '\"]').prop('disabled', null);\n            }\n        }\n\n    };\n\n    return trainingsessions;\n\n});\n"],"names":["define","$","log","layoutconstraints","init","params","bind","this","filter_formats","trigger","debug","that","formatselect","validopts","val","opt","children","prop"],"mappings":";;;;;;;AAsBAA,OAAM,2CAAC,CAAC,SAAU,aAAa,SAASC,EAAGC,KA8BvC,MA5BuB,CAEnBC,kBAAmB,GAEnBC,KAAM,SAASC,QAEXJ,EAAE,oBAAoBK,KAAK,SAAUC,KAAKC,gBAC1CP,EAAE,oBAAoBQ,QAAQ,UAE9BF,KAAKJ,kBAAoBE,OAA0B,kBAEnDH,IAAIQ,MAAM,mCACb,EAEDF,eAAgB,WACZ,IAAIG,KAAOV,EAAEM,MAETK,aAAeX,EAAE,oBACjBY,UAAYN,KAAKJ,kBAAkBQ,KAAKG,KAE5C,IAAK,IAAIC,OADTH,aAAaI,SAAS,UAAUC,KAAK,YAAY,GACjCJ,UAEZD,aAAaI,SAAS,WAAaD,IAAM,MAAME,KAAK,WAAY,KAExE,EAMR"}